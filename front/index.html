<html>
<head>
  <title>Pokémon Collaborative Map</title>

  <link href="http://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link type="text/css" rel="stylesheet" href="css/materialize.min.css"  media="screen,projection"/>
  <link type="text/css" rel="stylesheet" href="css/index.css"  media="screen,projection"/>

  <script type="text/javascript" src="/socket.io/socket.io.js"></script>
  <script type="text/javascript" src="/js/store.min.js"></script>
  <script type="text/javascript" src="/js/config.js"></script>
</head>
<body>

  <header>
    <nav class="top-nav">
      <div class="card header-title">
        <div class="nav-wrapper">
          <div class="row">
            <div class="col s1">
              <a href="#" data-activates="leftmenu" style="padding-top:26px" class="page-title button-collapse full hide-on-large-only"><i class="material-icons">menu</i></a>
            </div>
            <div class="col s10 left">
              <a class="page-title left">Pokémon Go Map</a>
            </div>
          </div>
        </div>
      </div>
    </nav>
    <div class="container"></div>
    <div class="side-nav fixed" id="leftmenu">
      <ul id="nav-mobile" class="" style="margin:0px">
      </ul>
    </div>
  </header>

  <main>
    <div class="row divider-top"></div>

    <div class="row container">
      <div id="map"></div>

      <a href="#modal_new_point" id="modal" class="hide">Modal</a>
      <div id="modal_new_point" class="modal bottom-sheet">
        <div class="modal-content">
          <h4>New Pokemon GO point</h4>
          <p>Here you will be able to select the type of event on your position</p>
        </div>
        <div class="modal-footer">
          <a href="#!" class=" modal-action waves-effect waves-green btn-flat">Ok</a>
          <a href="#!" class=" modal-action modal-close waves-effect waves-green btn-flat">Cancel</a>
        </div>
      </div>

    </div>
  </main>

  <footer class="page-footer card">
    <div class="footer-copyright">
      <div class="container">
        © 2016 - Codlab
        <a class="grey-text text-lighten-4 right" href="https://github.com/codlab/pokemon_go_collab/blob/master/LICENSE">LGPL License</a>
      </div>
    </div>
  </footer>



  <script type="text/javascript" src="js/jquery.js"></script>
  <script type="text/javascript" src="js/materialize.js"></script>
  <script type="text/javascript" src="js/materialize.init.js"></script>
  <script type="text/javascript" src="js/maps.js"></script>
  <script type="text/javascript">

  function height(element){
    return element.first().outerHeight(true);
  }

  function updateHeight(){
    var around = height($("footer")) + height($(".top-nav"));

    var margin = height($(".divider-top"));

    console.log("margin := "+margin);
    $("#map").height( window.innerHeight - around - margin);

    console.log($("#map").height());
  }

  $(function(){

    checkHTTPS();

    $(window).resize(function() {
      updateHeight();
    });

    updateHeight();
  });

  </script>
</body>
</html>
